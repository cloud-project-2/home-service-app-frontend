{"ast":null,"code":"var _jsxFileName = \"/Users/bawantharathnayake/Desktop/Academic/semester 7/cloud/cloud-project/home-service-app-frontend/src/Booking.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Booking() {\n  _s();\n  const [name, setName] = useState(\"\");\n  const [service, setService] = useState(\"\");\n  const [datetime, setDatetime] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const navigate = useNavigate();\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) navigate(\"/login\");\n  }, [navigate]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const token = localStorage.getItem(\"token\");\n    try {\n      const res = await fetch(\"https://1xxcc82bs9.execute-api.us-east-1.amazonaws.com/v1/api/book\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          name,\n          service,\n          datetime\n        })\n      });\n      const data = await res.json();\n      if (!res.ok) {\n        setMessage(data.error || \"Booking failed\");\n      } else {\n        setMessage(data.message);\n        setName(\"\");\n        setService(\"\");\n        setDatetime(\"\");\n      }\n    } catch (error) {\n      setMessage(\"Something went wrong. Please try again later.\");\n      console.error(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center justify-center min-h-[80vh] bg-gray-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-md bg-white rounded-xl shadow-lg p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-indigo-600 mb-6 text-center\",\n        children: \"Book a Service\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: name,\n          onChange: e => setName(e.target.value),\n          placeholder: \"Your Name\",\n          required: true,\n          className: \"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: service,\n          onChange: e => setService(e.target.value),\n          placeholder: \"Service (e.g., Plumber)\",\n          required: true,\n          className: \"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"datetime-local\",\n          value: datetime,\n          onChange: e => setDatetime(e.target.value),\n          required: true,\n          className: \"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"w-full bg-indigo-600 text-white py-2 rounded-lg shadow hover:bg-indigo-700 transition\",\n          children: \"Book Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-4 text-center text-sm font-medium text-green-600\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n_s(Booking, \"hdB4gVSv1LKzQq2rD1yLBAZVY2s=\", false, function () {\n  return [useNavigate];\n});\n_c = Booking;\nvar _c;\n$RefreshReg$(_c, \"Booking\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsxDEV","_jsxDEV","Booking","_s","name","setName","service","setService","datetime","setDatetime","message","setMessage","navigate","token","localStorage","getItem","handleSubmit","e","preventDefault","res","fetch","method","headers","Authorization","body","JSON","stringify","data","json","ok","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","placeholder","required","_c","$RefreshReg$"],"sources":["/Users/bawantharathnayake/Desktop/Academic/semester 7/cloud/cloud-project/home-service-app-frontend/src/Booking.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function Booking() {\n    const [name, setName] = useState(\"\");\n    const [service, setService] = useState(\"\");\n    const [datetime, setDatetime] = useState(\"\");\n    const [message, setMessage] = useState(\"\");\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const token = localStorage.getItem(\"token\");\n        if (!token) navigate(\"/login\");\n    }, [navigate]);\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const token = localStorage.getItem(\"token\");\n        try {\n            const res = await fetch(\n                \"https://1xxcc82bs9.execute-api.us-east-1.amazonaws.com/v1/api/book\",\n                {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        Authorization: `Bearer ${token}`,\n                    },\n                    body: JSON.stringify({ name, service, datetime }),\n                }\n            );\n\n            const data = await res.json();\n\n            if (!res.ok) {\n                setMessage(data.error || \"Booking failed\");\n            } else {\n                setMessage(data.message);\n                setName(\"\");\n                setService(\"\");\n                setDatetime(\"\");\n            }\n        } catch (error) {\n            setMessage(\"Something went wrong. Please try again later.\");\n            console.error(error);\n        }\n    };\n\n    return (\n        <div className=\"flex items-center justify-center min-h-[80vh] bg-gray-50\">\n            <div className=\"w-full max-w-md bg-white rounded-xl shadow-lg p-6\">\n                <h1 className=\"text-2xl font-bold text-indigo-600 mb-6 text-center\">\n                    Book a Service\n                </h1>\n\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\n                    <input\n                        type=\"text\"\n                        value={name}\n                        onChange={(e) => setName(e.target.value)}\n                        placeholder=\"Your Name\"\n                        required\n                        className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none\"\n                    />\n\n                    <input\n                        type=\"text\"\n                        value={service}\n                        onChange={(e) => setService(e.target.value)}\n                        placeholder=\"Service (e.g., Plumber)\"\n                        required\n                        className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none\"\n                    />\n\n                    <input\n                        type=\"datetime-local\"\n                        value={datetime}\n                        onChange={(e) => setDatetime(e.target.value)}\n                        required\n                        className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none\"\n                    />\n\n                    <button\n                        type=\"submit\"\n                        className=\"w-full bg-indigo-600 text-white py-2 rounded-lg shadow hover:bg-indigo-700 transition\"\n                    >\n                        Book Now\n                    </button>\n                </form>\n\n                {message && (\n                    <p className=\"mt-4 text-center text-sm font-medium text-green-600\">\n                        {message}\n                    </p>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}